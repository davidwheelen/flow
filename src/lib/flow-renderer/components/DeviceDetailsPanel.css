/* Mouse-tracking rainbow glow effect on details panel */
.device-details-panel {
  position: relative;
  --x: 0;
  --y: 0;
  --xp: 0;
  --yp: 0;
  --border-size: 2px;
  --spotlight-size: 150px;
  --base: 210;
  --spread: 500;
  --hue: calc(var(--base) + (var(--xp) * var(--spread)));
  --saturation: 100;
  --lightness: 50;
  --bg-spot-opacity: 0.1;
  --border-spot-opacity: 1;
  --border-light-opacity: 1;
}

/* Background glow inside the panel */
.device-details-panel {
  background-image: radial-gradient(
    var(--spotlight-size) var(--spotlight-size) at
    calc(var(--x) * 1px)
    calc(var(--y) * 1px),
    hsl(var(--hue) calc(var(--saturation) * 1%) calc(var(--lightness) * 1%) / var(--bg-spot-opacity)), 
    transparent
  );
  background-color: rgba(23, 23, 23, 0.85);
  background-size: 100% 100%;
  background-position: 50% 50%;
  background-attachment: fixed;
}

/* Border emphasis light (colored glow) */
.device-details-panel::before {
  pointer-events: none;
  content: "";
  position: absolute;
  inset: calc(var(--border-size) * -1);
  border: var(--border-size) solid transparent;
  border-radius: 12px;
  background-image: radial-gradient(
    calc(var(--spotlight-size) * 0.75) calc(var(--spotlight-size) * 0.75) at
    calc(var(--x) * 1px)
    calc(var(--y) * 1px),
    hsl(var(--hue) calc(var(--saturation) * 1%) calc(var(--lightness) * 1%) / var(--border-spot-opacity)), 
    transparent 100%
  );
  background-attachment: fixed;
  background-size: 100% 100%;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  mask:
    linear-gradient(transparent, transparent),
    linear-gradient(white, white);
  mask-clip: padding-box, border-box;
  mask-composite: intersect;
  -webkit-mask:
    linear-gradient(transparent, transparent),
    linear-gradient(white, white);
  -webkit-mask-clip: padding-box, border-box;
  -webkit-mask-composite: xor;
  z-index: 2;
  filter: brightness(2);
}

/* White spotlight in the center */
.device-details-panel::after {
  pointer-events: none;
  content: "";
  position: absolute;
  inset: calc(var(--border-size) * -1);
  border: var(--border-size) solid transparent;
  border-radius: 12px;
  background-image: radial-gradient(
    calc(var(--spotlight-size) * 0.5) calc(var(--spotlight-size) * 0.5) at
    calc(var(--x) * 1px)
    calc(var(--y) * 1px),
    hsl(0 100% 100% / var(--border-light-opacity)), 
    transparent 100%
  );
  background-attachment: fixed;
  background-size: 100% 100%;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  mask:
    linear-gradient(transparent, transparent),
    linear-gradient(white, white);
  mask-clip: padding-box, border-box;
  mask-composite: intersect;
  -webkit-mask:
    linear-gradient(transparent, transparent),
    linear-gradient(white, white);
  -webkit-mask-clip: padding-box, border-box;
  -webkit-mask-composite: xor;
  z-index: 2;
}

/* Ensure content is above glow layers */
.device-details-panel > * {
  position: relative;
  z-index: 3;
}
